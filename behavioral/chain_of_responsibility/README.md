# Цепочка ответственности (Chain Of Responsibility)

Паттерн `Chain Of Responsibility` относится к поведенческим паттернам уровня объекта.

Паттерн `Chain Of Responsibility` позволяет избежать привязки объекта-отправителя запроса к объекту-получателю запроса, при этом давая шанс обработать этот запрос нескольким объектам. Получатели связываются в цепочку, и запрос передается по цепочке, пока не будет обработан каким-то объектом.

По сути это цепочка обработчиков, которые по очереди получают запрос, а затем решают, обрабатывать его или нет. Если запрос не обработан, то он передается дальше по цепочке. Если же он обработан, то паттерн сам решает передавать его дальше или нет. Если запрос не обработан ни одним обработчиком, то он просто теряется.

Паттерн Цепочка ответственности действительно имеет некоторые сходства с паттерном `Middleware`, но есть различия:

1. Цель:

- **Цепочка ответственности**: Основная цель — делегировать обработку запросов различным обработчикам на основе их типа или важности. Каждый обработчик может решить, обрабатывать ли запрос или передавать его дальше.
- **Middleware**: Основная цель — выполнять дополнительные действия (например, аутентификацию, логирование) перед тем, как запрос достигнет основного обработчика, и/или модифицировать ответ после его обработки.

2. Структура:

- **Цепочка ответственности**: Обычно используется для обработки запросов, где каждый обработчик может иметь свою логику и решает, передавать ли запрос дальше.
- **Middleware**: Обычно реализуется как последовательность функций, которые принимают запрос и ответ, и могут изменять их перед передачей в основной обработчик.
